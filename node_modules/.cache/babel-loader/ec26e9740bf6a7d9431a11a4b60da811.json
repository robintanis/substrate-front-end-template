{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classPrivateFieldLooseBase2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n\nvar _classPrivateFieldLooseKey2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n\nvar _util = require(\"@polkadot/util\");\n\nvar _asU8a = _interopRequireDefault(require(\"../blake2/asU8a\")); // Copyright 2017-2020 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nconst RE_NUMBER = /^\\d+$/;\nconst JUNCTION_ID_LEN = 32;\nconst BN_OPTIONS = {\n  bitLength: 256,\n  isLe: true\n};\n\nvar _chainCode = (0, _classPrivateFieldLooseKey2.default)(\"chainCode\");\n\nvar _isHard = (0, _classPrivateFieldLooseKey2.default)(\"isHard\");\n\nclass DeriveJunction {\n  constructor() {\n    Object.defineProperty(this, _chainCode, {\n      writable: true,\n      value: new Uint8Array(32)\n    });\n    Object.defineProperty(this, _isHard, {\n      writable: true,\n      value: false\n    });\n  }\n\n  static from(value) {\n    const result = new DeriveJunction();\n    const [code, isHard] = value.startsWith('/') ? [value.substr(1), true] : [value, false];\n    result.soft(RE_NUMBER.test(code) ? parseInt(code, 10) : code);\n    return isHard ? result.harden() : result;\n  }\n\n  get chainCode() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _chainCode)[_chainCode];\n  }\n\n  get isHard() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard];\n  }\n\n  get isSoft() {\n    return !(0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard];\n  }\n\n  hard(value) {\n    return this.soft(value).harden();\n  }\n\n  harden() {\n    (0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard] = true;\n    return this;\n  }\n\n  soft(value) {\n    if ((0, _util.isNumber)(value) || (0, _util.isBn)(value) || (0, _util.isBigInt)(value)) {\n      return this.soft((0, _util.bnToHex)(value, BN_OPTIONS));\n    } else if ((0, _util.isString)(value)) {\n      return (0, _util.isHex)(value) ? this.soft((0, _util.hexToU8a)(value)) : this.soft((0, _util.compactAddLength)((0, _util.stringToU8a)(value)));\n    }\n\n    if (value.length > JUNCTION_ID_LEN) {\n      return this.soft((0, _asU8a.default)(value));\n    }\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _chainCode)[_chainCode].fill(0);\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _chainCode)[_chainCode].set(value, 0);\n\n    return this;\n  }\n\n  soften() {\n    (0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard] = false;\n    return this;\n  }\n\n}\n\nexports.default = DeriveJunction;","map":{"version":3,"sources":["/home/robin/substrate-front-end-template/node_modules/@polkadot/util-crypto/key/DeriveJunction.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_classPrivateFieldLooseBase2","_classPrivateFieldLooseKey2","_util","_asU8a","RE_NUMBER","JUNCTION_ID_LEN","BN_OPTIONS","bitLength","isLe","_chainCode","_isHard","DeriveJunction","constructor","writable","Uint8Array","from","result","code","isHard","startsWith","substr","soft","test","parseInt","harden","chainCode","isSoft","hard","isNumber","isBn","isBigInt","bnToHex","isString","isHex","hexToU8a","compactAddLength","stringToU8a","length","fill","set","soften"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classPrivateFieldLooseBase2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n\nvar _classPrivateFieldLooseKey2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n\nvar _util = require(\"@polkadot/util\");\n\nvar _asU8a = _interopRequireDefault(require(\"../blake2/asU8a\"));\n\n// Copyright 2017-2020 @polkadot/util-crypto authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nconst RE_NUMBER = /^\\d+$/;\nconst JUNCTION_ID_LEN = 32;\nconst BN_OPTIONS = {\n  bitLength: 256,\n  isLe: true\n};\n\nvar _chainCode = (0, _classPrivateFieldLooseKey2.default)(\"chainCode\");\n\nvar _isHard = (0, _classPrivateFieldLooseKey2.default)(\"isHard\");\n\nclass DeriveJunction {\n  constructor() {\n    Object.defineProperty(this, _chainCode, {\n      writable: true,\n      value: new Uint8Array(32)\n    });\n    Object.defineProperty(this, _isHard, {\n      writable: true,\n      value: false\n    });\n  }\n\n  static from(value) {\n    const result = new DeriveJunction();\n    const [code, isHard] = value.startsWith('/') ? [value.substr(1), true] : [value, false];\n    result.soft(RE_NUMBER.test(code) ? parseInt(code, 10) : code);\n    return isHard ? result.harden() : result;\n  }\n\n  get chainCode() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _chainCode)[_chainCode];\n  }\n\n  get isHard() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard];\n  }\n\n  get isSoft() {\n    return !(0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard];\n  }\n\n  hard(value) {\n    return this.soft(value).harden();\n  }\n\n  harden() {\n    (0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard] = true;\n    return this;\n  }\n\n  soft(value) {\n    if ((0, _util.isNumber)(value) || (0, _util.isBn)(value) || (0, _util.isBigInt)(value)) {\n      return this.soft((0, _util.bnToHex)(value, BN_OPTIONS));\n    } else if ((0, _util.isString)(value)) {\n      return (0, _util.isHex)(value) ? this.soft((0, _util.hexToU8a)(value)) : this.soft((0, _util.compactAddLength)((0, _util.stringToU8a)(value)));\n    }\n\n    if (value.length > JUNCTION_ID_LEN) {\n      return this.soft((0, _asU8a.default)(value));\n    }\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _chainCode)[_chainCode].fill(0);\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _chainCode)[_chainCode].set(value, 0);\n\n    return this;\n  }\n\n  soften() {\n    (0, _classPrivateFieldLooseBase2.default)(this, _isHard)[_isHard] = false;\n    return this;\n  }\n\n}\n\nexports.default = DeriveJunction;"]},"metadata":{},"sourceType":"script"}