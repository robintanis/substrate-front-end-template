{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classPrivateFieldLooseBase2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n\nvar _classPrivateFieldLooseKey2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n\nvar _testing = _interopRequireDefault(require(\"@polkadot/keyring/testing\"));\n\nvar _util = require(\"@polkadot/util\");\n\nvar _accounts2 = _interopRequireDefault(require(\"./observable/accounts\"));\n\nvar _addresses2 = _interopRequireDefault(require(\"./observable/addresses\"));\n\nvar _contracts2 = _interopRequireDefault(require(\"./observable/contracts\"));\n\nvar _development = _interopRequireDefault(require(\"./observable/development\"));\n\nvar _Browser = _interopRequireDefault(require(\"./stores/Browser\")); // Copyright 2017-2020 @polkadot/ui-keyring authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nvar _accounts = (0, _classPrivateFieldLooseKey2.default)(\"accounts\");\n\nvar _addresses = (0, _classPrivateFieldLooseKey2.default)(\"addresses\");\n\nvar _contracts = (0, _classPrivateFieldLooseKey2.default)(\"contracts\");\n\nvar _keyring = (0, _classPrivateFieldLooseKey2.default)(\"keyring\"); // direct import (skip index with all)\n\n\nclass Base {\n  constructor() {\n    Object.defineProperty(this, _accounts, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _addresses, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _contracts, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _keyring, {\n      writable: true,\n      value: void 0\n    });\n    this._store = void 0;\n    this._genesisHash = void 0;\n\n    this.decodeAddress = (key, ignoreChecksum, ss58Format) => {\n      return this.keyring.decodeAddress(key, ignoreChecksum, ss58Format);\n    };\n\n    this.encodeAddress = (key, ss58Format) => {\n      return this.keyring.encodeAddress(key, ss58Format);\n    };\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _accounts)[_accounts] = _accounts2.default;\n    (0, _classPrivateFieldLooseBase2.default)(this, _addresses)[_addresses] = _addresses2.default;\n    (0, _classPrivateFieldLooseBase2.default)(this, _contracts)[_contracts] = _contracts2.default;\n    this._store = new _Browser.default();\n  }\n\n  get accounts() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _accounts)[_accounts];\n  }\n\n  get addresses() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _addresses)[_addresses];\n  }\n\n  get contracts() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _contracts)[_contracts];\n  }\n\n  get keyring() {\n    if ((0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring]) {\n      return (0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring];\n    }\n\n    throw new Error('Keyring should be initialised via \\'loadAll\\' before use');\n  }\n\n  get genesisHash() {\n    return this._genesisHash;\n  }\n\n  getPair(address) {\n    return this.keyring.getPair(address);\n  }\n\n  getPairs() {\n    return this.keyring.getPairs().filter(pair => _development.default.isDevelopment() || pair.meta.isTesting !== true);\n  }\n\n  isAvailable(_address) {\n    const accountsValue = this.accounts.subject.getValue();\n    const addressesValue = this.addresses.subject.getValue();\n    const contractsValue = this.contracts.subject.getValue();\n    const address = (0, _util.isString)(_address) ? _address : this.encodeAddress(_address);\n    return !accountsValue[address] && !addressesValue[address] && !contractsValue[address];\n  }\n\n  isPassValid(password) {\n    return password.length > 0;\n  }\n\n  setSS58Format(ss58Format) {\n    if ((0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring] && ss58Format) {\n      (0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring].setSS58Format(ss58Format);\n    }\n  }\n\n  setDevMode(isDevelopment) {\n    _development.default.set(isDevelopment);\n  }\n\n  initKeyring(options) {\n    const keyring = (0, _testing.default)(options, true);\n\n    if ((0, _util.isBoolean)(options.isDevelopment)) {\n      this.setDevMode(options.isDevelopment);\n    }\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring] = keyring;\n    this._genesisHash = options.genesisHash && options.genesisHash.toHex();\n    this._store = options.store || this._store;\n    this.addAccountPairs();\n  }\n\n  addAccountPairs() {\n    this.keyring.getPairs().forEach(({\n      address,\n      meta\n    }) => {\n      this.accounts.add(this._store, address, {\n        address,\n        meta\n      });\n    });\n  }\n\n  addTimestamp(pair) {\n    if (!pair.meta.whenCreated) {\n      pair.setMeta({\n        whenCreated: Date.now()\n      });\n    }\n  }\n\n}\n\nexports.default = Base;","map":{"version":3,"sources":["/home/robin/substrate-front-end-template/node_modules/@polkadot/ui-keyring/Base.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_classPrivateFieldLooseBase2","_classPrivateFieldLooseKey2","_testing","_util","_accounts2","_addresses2","_contracts2","_development","_Browser","_accounts","_addresses","_contracts","_keyring","Base","constructor","writable","_store","_genesisHash","decodeAddress","key","ignoreChecksum","ss58Format","keyring","encodeAddress","accounts","addresses","contracts","Error","genesisHash","getPair","address","getPairs","filter","pair","isDevelopment","meta","isTesting","isAvailable","_address","accountsValue","subject","getValue","addressesValue","contractsValue","isString","isPassValid","password","length","setSS58Format","setDevMode","set","initKeyring","options","isBoolean","toHex","store","addAccountPairs","forEach","add","addTimestamp","whenCreated","setMeta","Date","now"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classPrivateFieldLooseBase2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n\nvar _classPrivateFieldLooseKey2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n\nvar _testing = _interopRequireDefault(require(\"@polkadot/keyring/testing\"));\n\nvar _util = require(\"@polkadot/util\");\n\nvar _accounts2 = _interopRequireDefault(require(\"./observable/accounts\"));\n\nvar _addresses2 = _interopRequireDefault(require(\"./observable/addresses\"));\n\nvar _contracts2 = _interopRequireDefault(require(\"./observable/contracts\"));\n\nvar _development = _interopRequireDefault(require(\"./observable/development\"));\n\nvar _Browser = _interopRequireDefault(require(\"./stores/Browser\"));\n\n// Copyright 2017-2020 @polkadot/ui-keyring authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nvar _accounts = (0, _classPrivateFieldLooseKey2.default)(\"accounts\");\n\nvar _addresses = (0, _classPrivateFieldLooseKey2.default)(\"addresses\");\n\nvar _contracts = (0, _classPrivateFieldLooseKey2.default)(\"contracts\");\n\nvar _keyring = (0, _classPrivateFieldLooseKey2.default)(\"keyring\");\n\n// direct import (skip index with all)\nclass Base {\n  constructor() {\n    Object.defineProperty(this, _accounts, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _addresses, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _contracts, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _keyring, {\n      writable: true,\n      value: void 0\n    });\n    this._store = void 0;\n    this._genesisHash = void 0;\n\n    this.decodeAddress = (key, ignoreChecksum, ss58Format) => {\n      return this.keyring.decodeAddress(key, ignoreChecksum, ss58Format);\n    };\n\n    this.encodeAddress = (key, ss58Format) => {\n      return this.keyring.encodeAddress(key, ss58Format);\n    };\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _accounts)[_accounts] = _accounts2.default;\n    (0, _classPrivateFieldLooseBase2.default)(this, _addresses)[_addresses] = _addresses2.default;\n    (0, _classPrivateFieldLooseBase2.default)(this, _contracts)[_contracts] = _contracts2.default;\n    this._store = new _Browser.default();\n  }\n\n  get accounts() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _accounts)[_accounts];\n  }\n\n  get addresses() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _addresses)[_addresses];\n  }\n\n  get contracts() {\n    return (0, _classPrivateFieldLooseBase2.default)(this, _contracts)[_contracts];\n  }\n\n  get keyring() {\n    if ((0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring]) {\n      return (0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring];\n    }\n\n    throw new Error('Keyring should be initialised via \\'loadAll\\' before use');\n  }\n\n  get genesisHash() {\n    return this._genesisHash;\n  }\n\n  getPair(address) {\n    return this.keyring.getPair(address);\n  }\n\n  getPairs() {\n    return this.keyring.getPairs().filter(pair => _development.default.isDevelopment() || pair.meta.isTesting !== true);\n  }\n\n  isAvailable(_address) {\n    const accountsValue = this.accounts.subject.getValue();\n    const addressesValue = this.addresses.subject.getValue();\n    const contractsValue = this.contracts.subject.getValue();\n    const address = (0, _util.isString)(_address) ? _address : this.encodeAddress(_address);\n    return !accountsValue[address] && !addressesValue[address] && !contractsValue[address];\n  }\n\n  isPassValid(password) {\n    return password.length > 0;\n  }\n\n  setSS58Format(ss58Format) {\n    if ((0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring] && ss58Format) {\n      (0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring].setSS58Format(ss58Format);\n    }\n  }\n\n  setDevMode(isDevelopment) {\n    _development.default.set(isDevelopment);\n  }\n\n  initKeyring(options) {\n    const keyring = (0, _testing.default)(options, true);\n\n    if ((0, _util.isBoolean)(options.isDevelopment)) {\n      this.setDevMode(options.isDevelopment);\n    }\n\n    (0, _classPrivateFieldLooseBase2.default)(this, _keyring)[_keyring] = keyring;\n    this._genesisHash = options.genesisHash && options.genesisHash.toHex();\n    this._store = options.store || this._store;\n    this.addAccountPairs();\n  }\n\n  addAccountPairs() {\n    this.keyring.getPairs().forEach(({\n      address,\n      meta\n    }) => {\n      this.accounts.add(this._store, address, {\n        address,\n        meta\n      });\n    });\n  }\n\n  addTimestamp(pair) {\n    if (!pair.meta.whenCreated) {\n      pair.setMeta({\n        whenCreated: Date.now()\n      });\n    }\n  }\n\n}\n\nexports.default = Base;"]},"metadata":{},"sourceType":"script"}