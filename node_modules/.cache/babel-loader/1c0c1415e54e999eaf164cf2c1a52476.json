{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.flags = flags;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\"); // Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nfunction isIncludedFn(accountId) {\n  return function (id) {\n    return id.toString() === accountId.toString();\n  };\n}\n/**\n * @name info\n * @description Returns account membership flags\n */\n\n\nfunction flags(instanceId, api) {\n  return (0, _util.memo)(instanceId, address => {\n    var _api$query$councilSec, _api$query$council, _api$query$technicalC, _api$query$society, _api$query$sudo;\n\n    const councilSection = api.query.electionsPhragmen ? 'electionsPhragmen' : 'elections';\n    return (0, _rxjs.combineLatest)([address && ((_api$query$councilSec = api.query[councilSection]) === null || _api$query$councilSec === void 0 ? void 0 : _api$query$councilSec.members) ? api.query[councilSection].members() : (0, _rxjs.of)(undefined), address && ((_api$query$council = api.query.council) === null || _api$query$council === void 0 ? void 0 : _api$query$council.members) ? api.query.council.members() : (0, _rxjs.of)([]), address && ((_api$query$technicalC = api.query.technicalCommittee) === null || _api$query$technicalC === void 0 ? void 0 : _api$query$technicalC.members) ? api.query.technicalCommittee.members() : (0, _rxjs.of)([]), address && ((_api$query$society = api.query.society) === null || _api$query$society === void 0 ? void 0 : _api$query$society.members) ? api.query.society.members() : (0, _rxjs.of)([]), address && ((_api$query$sudo = api.query.sudo) === null || _api$query$sudo === void 0 ? void 0 : _api$query$sudo.key) ? api.query.sudo.key() : (0, _rxjs.of)(undefined)]).pipe((0, _operators.map)(([electionsMembers, councilMembers, technicalCommitteeMembers, societyMembers, sudoKey]) => {\n      const isIncluded = address ? isIncludedFn(address) : () => false;\n      return {\n        isCouncil: ((electionsMembers === null || electionsMembers === void 0 ? void 0 : electionsMembers.map(([id]) => id)) || councilMembers || []).some(isIncluded),\n        isSociety: (societyMembers || []).some(isIncluded),\n        isSudo: (sudoKey === null || sudoKey === void 0 ? void 0 : sudoKey.toString()) === (address === null || address === void 0 ? void 0 : address.toString()),\n        isTechCommittee: (technicalCommitteeMembers || []).some(isIncluded)\n      };\n    }));\n  });\n}","map":{"version":3,"sources":["/home/robin/substrate-front-end-template/node_modules/@polkadot/api-derive/accounts/flags.js"],"names":["Object","defineProperty","exports","value","flags","_rxjs","require","_operators","_util","isIncludedFn","accountId","id","toString","instanceId","api","memo","address","_api$query$councilSec","_api$query$council","_api$query$technicalC","_api$query$society","_api$query$sudo","councilSection","query","electionsPhragmen","combineLatest","members","of","undefined","council","technicalCommittee","society","sudo","key","pipe","map","electionsMembers","councilMembers","technicalCommitteeMembers","societyMembers","sudoKey","isIncluded","isCouncil","some","isSociety","isSudo","isTechCommittee"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.flags = flags;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\");\n\n// Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction isIncludedFn(accountId) {\n  return function (id) {\n    return id.toString() === accountId.toString();\n  };\n}\n/**\n * @name info\n * @description Returns account membership flags\n */\n\n\nfunction flags(instanceId, api) {\n  return (0, _util.memo)(instanceId, address => {\n    var _api$query$councilSec, _api$query$council, _api$query$technicalC, _api$query$society, _api$query$sudo;\n\n    const councilSection = api.query.electionsPhragmen ? 'electionsPhragmen' : 'elections';\n    return (0, _rxjs.combineLatest)([address && ((_api$query$councilSec = api.query[councilSection]) === null || _api$query$councilSec === void 0 ? void 0 : _api$query$councilSec.members) ? api.query[councilSection].members() : (0, _rxjs.of)(undefined), address && ((_api$query$council = api.query.council) === null || _api$query$council === void 0 ? void 0 : _api$query$council.members) ? api.query.council.members() : (0, _rxjs.of)([]), address && ((_api$query$technicalC = api.query.technicalCommittee) === null || _api$query$technicalC === void 0 ? void 0 : _api$query$technicalC.members) ? api.query.technicalCommittee.members() : (0, _rxjs.of)([]), address && ((_api$query$society = api.query.society) === null || _api$query$society === void 0 ? void 0 : _api$query$society.members) ? api.query.society.members() : (0, _rxjs.of)([]), address && ((_api$query$sudo = api.query.sudo) === null || _api$query$sudo === void 0 ? void 0 : _api$query$sudo.key) ? api.query.sudo.key() : (0, _rxjs.of)(undefined)]).pipe((0, _operators.map)(([electionsMembers, councilMembers, technicalCommitteeMembers, societyMembers, sudoKey]) => {\n      const isIncluded = address ? isIncludedFn(address) : () => false;\n      return {\n        isCouncil: ((electionsMembers === null || electionsMembers === void 0 ? void 0 : electionsMembers.map(([id]) => id)) || councilMembers || []).some(isIncluded),\n        isSociety: (societyMembers || []).some(isIncluded),\n        isSudo: (sudoKey === null || sudoKey === void 0 ? void 0 : sudoKey.toString()) === (address === null || address === void 0 ? void 0 : address.toString()),\n        isTechCommittee: (technicalCommitteeMembers || []).some(isIncluded)\n      };\n    }));\n  });\n}"]},"metadata":{},"sourceType":"script"}