{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._stakerPoints = _stakerPoints;\nexports.stakerPoints = stakerPoints;\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\"); // Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nfunction _stakerPoints(instanceId, api) {\n  return (0, _util.memo)(instanceId, (accountId, eras, withActive) => {\n    const stakerId = api.registry.createType('AccountId', accountId).toString();\n    return api.derive.staking._erasPoints(eras, withActive).pipe((0, _operators.map)(points => points.map(({\n      era,\n      eraPoints,\n      validators\n    }) => ({\n      era,\n      eraPoints,\n      points: validators[stakerId] || api.registry.createType('RewardPoint')\n    }))));\n  });\n}\n\nfunction stakerPoints(instanceId, api) {\n  return (0, _util.memo)(instanceId, (accountId, withActive = false) => api.derive.staking.erasHistoric(withActive).pipe((0, _operators.switchMap)(eras => api.derive.staking._stakerPoints(accountId, eras, withActive))));\n}","map":{"version":3,"sources":["/home/robin/substrate-front-end-template/node_modules/@polkadot/api-derive/staking/stakerPoints.js"],"names":["Object","defineProperty","exports","value","_stakerPoints","stakerPoints","_operators","require","_util","instanceId","api","memo","accountId","eras","withActive","stakerId","registry","createType","toString","derive","staking","_erasPoints","pipe","map","points","era","eraPoints","validators","erasHistoric","switchMap"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,aAAR,GAAwBA,aAAxB;AACAF,OAAO,CAACG,YAAR,GAAuBA,YAAvB;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,gBAAD,CAAxB;;AAEA,IAAIC,KAAK,GAAGD,OAAO,CAAC,SAAD,CAAnB,C,CAEA;AACA;;;AACA,SAASH,aAAT,CAAuBK,UAAvB,EAAmCC,GAAnC,EAAwC;AACtC,SAAO,CAAC,GAAGF,KAAK,CAACG,IAAV,EAAgBF,UAAhB,EAA4B,CAACG,SAAD,EAAYC,IAAZ,EAAkBC,UAAlB,KAAiC;AAClE,UAAMC,QAAQ,GAAGL,GAAG,CAACM,QAAJ,CAAaC,UAAb,CAAwB,WAAxB,EAAqCL,SAArC,EAAgDM,QAAhD,EAAjB;AACA,WAAOR,GAAG,CAACS,MAAJ,CAAWC,OAAX,CAAmBC,WAAnB,CAA+BR,IAA/B,EAAqCC,UAArC,EAAiDQ,IAAjD,CAAsD,CAAC,GAAGhB,UAAU,CAACiB,GAAf,EAAoBC,MAAM,IAAIA,MAAM,CAACD,GAAP,CAAW,CAAC;AACrGE,MAAAA,GADqG;AAErGC,MAAAA,SAFqG;AAGrGC,MAAAA;AAHqG,KAAD,MAI/F;AACLF,MAAAA,GADK;AAELC,MAAAA,SAFK;AAGLF,MAAAA,MAAM,EAAEG,UAAU,CAACZ,QAAD,CAAV,IAAwBL,GAAG,CAACM,QAAJ,CAAaC,UAAb,CAAwB,aAAxB;AAH3B,KAJ+F,CAAX,CAA9B,CAAtD,CAAP;AASD,GAXM,CAAP;AAYD;;AAED,SAASZ,YAAT,CAAsBI,UAAtB,EAAkCC,GAAlC,EAAuC;AACrC,SAAO,CAAC,GAAGF,KAAK,CAACG,IAAV,EAAgBF,UAAhB,EAA4B,CAACG,SAAD,EAAYE,UAAU,GAAG,KAAzB,KAAmCJ,GAAG,CAACS,MAAJ,CAAWC,OAAX,CAAmBQ,YAAnB,CAAgCd,UAAhC,EAA4CQ,IAA5C,CAAiD,CAAC,GAAGhB,UAAU,CAACuB,SAAf,EAA0BhB,IAAI,IAAIH,GAAG,CAACS,MAAJ,CAAWC,OAAX,CAAmBhB,aAAnB,CAAiCQ,SAAjC,EAA4CC,IAA5C,EAAkDC,UAAlD,CAAlC,CAAjD,CAA/D,CAAP;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._stakerPoints = _stakerPoints;\nexports.stakerPoints = stakerPoints;\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _util = require(\"../util\");\n\n// Copyright 2017-2020 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nfunction _stakerPoints(instanceId, api) {\n  return (0, _util.memo)(instanceId, (accountId, eras, withActive) => {\n    const stakerId = api.registry.createType('AccountId', accountId).toString();\n    return api.derive.staking._erasPoints(eras, withActive).pipe((0, _operators.map)(points => points.map(({\n      era,\n      eraPoints,\n      validators\n    }) => ({\n      era,\n      eraPoints,\n      points: validators[stakerId] || api.registry.createType('RewardPoint')\n    }))));\n  });\n}\n\nfunction stakerPoints(instanceId, api) {\n  return (0, _util.memo)(instanceId, (accountId, withActive = false) => api.derive.staking.erasHistoric(withActive).pipe((0, _operators.switchMap)(eras => api.derive.staking._stakerPoints(accountId, eras, withActive))));\n}"]},"metadata":{},"sourceType":"script"}